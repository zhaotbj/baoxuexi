(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad2b7cc6"],{"1f8b":function(t,e,s){},"4a70":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"person_center"},[s("div",{staticClass:"info"},[s("myTitle",{attrs:{txt:"基本信息"}}),s("div",{staticClass:"content"},[s("Tabs",{attrs:{type:"card"}},[s("TabPane",{attrs:{label:"修改信息"}},[t.userInfo?s("div",{staticClass:"info_form"},[s("Form",{ref:"formValidate",staticClass:"form",attrs:{"label-width":200}},[s("FormItem",{attrs:{label:"登陆名",prop:"name"}},[s("Input",{attrs:{placeholder:"输入登陆名"},model:{value:t.userInfo.username,callback:function(e){t.$set(t.userInfo,"username",e)},expression:"userInfo.username"}})],1),s("FormItem",{attrs:{label:"真实姓名",prop:"name"}},[s("Input",{attrs:{placeholder:"输入真实姓名"},model:{value:t.userInfo.nickname,callback:function(e){t.$set(t.userInfo,"nickname",e)},expression:"userInfo.nickname"}})],1),s("FormItem",{attrs:{label:"邮箱",prop:"mail"}},[s("Input",{attrs:{placeholder:"输入邮箱"},model:{value:t.userInfo.email,callback:function(e){t.$set(t.userInfo,"email",e)},expression:"userInfo.email"}})],1),s("FormItem",{attrs:{label:"电话号码",prop:"name"}},[s("Input",{attrs:{placeholder:"输入电话号码"},model:{value:t.userInfo.mobile,callback:function(e){t.$set(t.userInfo,"mobile",e)},expression:"userInfo.mobile"}})],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:function(e){return t.btnOperate(1)}}},[t._v("确认")])],1)],1)],1):t._e()]),s("TabPane",{attrs:{label:"修改密码"}},[s("div",{staticClass:"info_form"},[s("Form",{ref:"formValidate",staticClass:"form",attrs:{"label-width":200}},[s("FormItem",{attrs:{label:"旧密码",prop:"name"}},[s("Input",{staticStyle:{width:"200px"},attrs:{type:"password",password:"",placeholder:"输入旧密码"},model:{value:t.passwordObj.oldPassword,callback:function(e){t.$set(t.passwordObj,"oldPassword",e)},expression:"passwordObj.oldPassword"}})],1),s("FormItem",{attrs:{label:"新密码",prop:"name"}},[s("Input",{staticStyle:{width:"200px"},attrs:{type:"password",password:"",placeholder:"输入新密码"},model:{value:t.passwordObj.newPassword,callback:function(e){t.$set(t.passwordObj,"newPassword",e)},expression:"passwordObj.newPassword"}})],1),s("FormItem",{attrs:{label:"再次输入",prop:"name"}},[s("Input",{staticStyle:{width:"200px"},attrs:{type:"password",password:"",placeholder:"再次输入新密码"},model:{value:t.passwordObj.rePassword,callback:function(e){t.$set(t.passwordObj,"rePassword",e)},expression:"passwordObj.rePassword"}})],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:function(e){return t.btnOperate(2)}}},[t._v("确认")])],1)],1)],1)])],1)],1)],1),s("div",{staticClass:"sign"},[s("myTitle",{attrs:{txt:"签名信息"}}),s("div",{staticClass:"content"},[t._m(0),s("div",{staticClass:"upload"},[s("Upload",{attrs:{multiple:"",type:"drag",action:"//jsonplaceholder.typicode.com/posts/"}},[s("div",{staticStyle:{width:"110px",height:"60px",padding:"4px 0"}},[s("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}})],1)])],1),s("div",{staticClass:"buttons"},[s("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("确认")]),s("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.handleCancel("formValidate")}}},[t._v("取消")])],1)])],1)])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notice"},[s("span",{staticClass:"first"},[t._v("签名信息注意事项：")]),s("span",[t._v("1.图片最佳尺寸 110 * 60")]),s("span",[t._v("2.图片最佳大小不超过 20KB")]),s("span",[t._v("3.图片只支持PNG格式，透明底色")])])}],r=s("c451"),i=s("7982"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:[t.prefixCls]},[s("div",{class:t.classes,on:{click:t.handleClick,drop:function(e){return e.preventDefault(),t.onDrop(e)},paste:t.handlePaste,dragover:function(e){e.preventDefault(),t.dragOver=!0},dragleave:function(e){e.preventDefault(),t.dragOver=!1}}},[s("input",{ref:"input",class:[t.prefixCls+"-input"],attrs:{type:"file",multiple:t.multiple,accept:t.accept},on:{change:t.handleChange}}),t._t("default")],2),t._t("tip"),t.showUploadList?s("upload-list",{attrs:{files:t.fileList},on:{"on-file-remove":t.handleRemove,"on-file-preview":t.handlePreview}}):t._e()],2)},c=[],l=(s("d119"),s("af82"),s("4045"),s("1a8c"),s("c1f4"),s("4423"),s("c1b0"),s("c354"),s("f4a0"),s("3a20"),s("b3f9"),s("7267"),s("3e5e"),s("9a14"),s("b081")),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{class:[t.prefixCls+"-list"]},t._l(t.files,(function(e){return s("li",{class:t.fileCls(e),on:{click:function(s){return t.handleClick(e)}}},[s("span",{on:{click:function(s){return t.handlePreview(e)}}},[s("Icon",{attrs:{type:t.format(e)}}),t._v(" "+t._s(e.name)+" ")],1),s("Icon",{directives:[{name:"show",rawName:"v-show",value:"finished"===e.status,expression:"file.status === 'finished'"}],class:[t.prefixCls+"-list-remove"],attrs:{type:"ios-close"},nativeOn:{click:function(s){return t.handleRemove(e)}}}),s("transition",{attrs:{name:"fade"}},[e.showProgress?s("i-progress",{attrs:{"stroke-width":2,percent:t.parsePercentage(e.percentage),status:"finished"===e.status&&e.showProgress?"success":"normal"}}):t._e()],1)],1)})),0)},d=[],p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("i",{class:t.classes,style:t.styles,on:{click:t.handleClick}})},f=[],h="ivu-icon",m={name:"Icon",props:{type:{type:String,default:""},size:[Number,String],color:String,custom:{type:String,default:""}},computed:{classes:function(){var t;return["".concat(h),(t={},Object(l["a"])(t,"".concat(h,"-").concat(this.type),""!==this.type),Object(l["a"])(t,"".concat(this.custom),""!==this.custom),t)]},styles:function(){var t={};return this.size&&(t["font-size"]="".concat(this.size,"px")),this.color&&(t.color=this.color),t}},methods:{handleClick:function(t){this.$emit("click",t)}}},g=m,v=s("e90a"),b=Object(v["a"])(g,p,f,!1,null,null,null),w=b.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.wrapClasses},[s("div",{class:t.outerClasses},[s("div",{class:t.innerClasses},[s("div",{class:t.bgClasses,style:t.bgStyle},[t.textInside?s("div",{staticClass:"ivu-progress-inner-text"},[t._v(t._s(t.percent)+"%")]):t._e()]),s("div",{class:t.successBgClasses,style:t.successBgStyle})])]),t.hideInfo||t.textInside?t._e():s("span",{class:t.textClasses},[t._t("default",[t.isStatus?s("span",{class:t.textInnerClasses},[s("Icon",{attrs:{type:t.statusIcon}})],1):s("span",{class:t.textInnerClasses},[t._v(" "+t._s(t.percent)+"% ")])])],2)])},x=[],I=(s("7ae7"),w),C=s("0261");const k=C["default"].prototype.$isServer;function O(t,e){for(let s=0;s<e.length;s++)if(t===e[s])return!0;return!1}!k&&(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver);var P="ivu-progress",S={name:"Progress",components:{Icon:I},props:{percent:{type:Number,default:0},successPercent:{type:Number,default:0},status:{validator:function(t){return O(t,["normal","active","wrong","success"])},default:"normal"},hideInfo:{type:Boolean,default:!1},strokeWidth:{type:Number,default:10},vertical:{type:Boolean,default:!1},strokeColor:{type:[String,Array]},textInside:{type:Boolean,default:!1}},data:function(){return{currentStatus:this.status}},computed:{isStatus:function(){return"wrong"==this.currentStatus||"success"==this.currentStatus},statusIcon:function(){var t="";switch(this.currentStatus){case"wrong":t="ios-close-circle";break;case"success":t="ios-checkmark-circle";break}return t},bgStyle:function(){var t=this.vertical?{height:"".concat(this.percent,"%"),width:"".concat(this.strokeWidth,"px")}:{width:"".concat(this.percent,"%"),height:"".concat(this.strokeWidth,"px")};return this.strokeColor&&("string"===typeof this.strokeColor?t["background-color"]=this.strokeColor:t["background-image"]="linear-gradient(to right, ".concat(this.strokeColor[0]," 0%, ").concat(this.strokeColor[1]," 100%)")),t},successBgStyle:function(){return this.vertical?{height:"".concat(this.successPercent,"%"),width:"".concat(this.strokeWidth,"px")}:{width:"".concat(this.successPercent,"%"),height:"".concat(this.strokeWidth,"px")}},wrapClasses:function(){var t;return["".concat(P),"".concat(P,"-").concat(this.currentStatus),(t={},Object(l["a"])(t,"".concat(P,"-show-info"),!this.hideInfo&&!this.textInside),Object(l["a"])(t,"".concat(P,"-vertical"),this.vertical),t)]},textClasses:function(){return"".concat(P,"-text")},textInnerClasses:function(){return"".concat(P,"-text-inner")},outerClasses:function(){return"".concat(P,"-outer")},innerClasses:function(){return"".concat(P,"-inner")},bgClasses:function(){return"".concat(P,"-bg")},successBgClasses:function(){return"".concat(P,"-success-bg")}},created:function(){this.handleStatus()},methods:{handleStatus:function(t){t?(this.currentStatus="normal",this.$emit("on-status-change","normal")):100==parseInt(this.percent,10)&&(this.currentStatus="success",this.$emit("on-status-change","success"))}},watch:{percent:function(t,e){t<e?this.handleStatus(!0):this.handleStatus()},status:function(t){this.currentStatus=t}}},_=S,$=Object(v["a"])(_,y,x,!1,null,null,null),j=$.exports,F="ivu-upload",L={name:"UploadList",components:{Icon:w,iProgress:j},props:{files:{type:Array,default:function(){return[]}}},data:function(){return{prefixCls:F}},methods:{fileCls:function(t){return["".concat(F,"-list-file"),Object(l["a"])({},"".concat(F,"-list-file-finish"),"finished"===t.status)]},handleClick:function(t){this.$emit("on-file-click",t)},handlePreview:function(t){this.$emit("on-file-preview",t)},handleRemove:function(t){this.$emit("on-file-remove",t)},format:function(t){var e=t.name.split(".").pop().toLocaleLowerCase()||"",s="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(e)>-1&&(s="ios-image"),["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(e)>-1&&(s="ios-film"),["mp3","wav","wma","ogg","aac","flac"].indexOf(e)>-1&&(s="ios-musical-notes"),["doc","txt","docx","pages","epub","pdf"].indexOf(e)>-1&&(s="md-document"),["numbers","csv","xls","xlsx"].indexOf(e)>-1&&(s="ios-stats"),["keynote","ppt","pptx"].indexOf(e)>-1&&(s="ios-videocam"),s},parsePercentage:function(t){return parseInt(t,10)}}},E=L,U=Object(v["a"])(E,u,d,!1,null,null,null),B=U.exports;s("79dd");function z(t,e,s){var n="fail to post ".concat(t," ").concat(s.status,"'"),a=new Error(n);return a.status=s.status,a.method="post",a.url=t,a}function q(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(s){return e}}function M(t){if("undefined"!==typeof XMLHttpRequest){var e=new XMLHttpRequest,s=t.action;e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&Object.keys(t.data).map((function(e){n.append(e,t.data[e])})),n.append(t.filename,t.file),e.onerror=function(e){t.onError(e)},e.onload=function(){if(e.status<200||e.status>=300)return t.onError(z(s,t,e),q(e));t.onSuccess(q(e))},e.open("post",s,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var a=t.headers||{};for(var r in a)a.hasOwnProperty(r)&&null!==a[r]&&e.setRequestHeader(r,a[r]);e.send(n)}}function T(t,e,s){this.$children.forEach(n=>{const a=n.$options.name;a===t?n.$emit.apply(n,[e].concat(s)):T.apply(n,[t,e].concat([s]))})}var D={methods:{dispatch(t,e,s){let n=this.$parent||this.$root,a=n.$options.name;while(n&&(!a||a!==t))n=n.$parent,n&&(a=n.$options.name);n&&n.$emit.apply(n,[e].concat(s))},broadcast(t,e,s){T.call(this,t,e,s)}}},R="ivu-upload",N={name:"Upload",mixins:[D],components:{UploadList:B},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!1},data:{type:Object},name:{type:String,default:"file"},withCredentials:{type:Boolean,default:!1},showUploadList:{type:Boolean,default:!0},type:{type:String,validator:function(t){return O(t,["select","drag"])},default:"select"},format:{type:Array,default:function(){return[]}},accept:{type:String},maxSize:{type:Number},beforeUpload:Function,onProgress:{type:Function,default:function(){return{}}},onSuccess:{type:Function,default:function(){return{}}},onError:{type:Function,default:function(){return{}}},onRemove:{type:Function,default:function(){return{}}},onPreview:{type:Function,default:function(){return{}}},onExceededSize:{type:Function,default:function(){return{}}},onFormatError:{type:Function,default:function(){return{}}},defaultFileList:{type:Array,default:function(){return[]}},paste:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{prefixCls:R,dragOver:!1,fileList:[],tempIndex:1}},computed:{classes:function(){var t;return["".concat(R),(t={},Object(l["a"])(t,"".concat(R,"-select"),"select"===this.type),Object(l["a"])(t,"".concat(R,"-drag"),"drag"===this.type),Object(l["a"])(t,"".concat(R,"-dragOver"),"drag"===this.type&&this.dragOver),t)]}},methods:{handleClick:function(){this.disabled||this.$refs.input.click()},handleChange:function(t){var e=t.target.files;e&&(this.uploadFiles(e),this.$refs.input.value=null)},onDrop:function(t){this.dragOver=!1,this.disabled||this.uploadFiles(t.dataTransfer.files)},handlePaste:function(t){this.disabled||this.paste&&this.uploadFiles(t.clipboardData.files)},uploadFiles:function(t){var e=this,s=Array.prototype.slice.call(t);this.multiple||(s=s.slice(0,1)),0!==s.length&&s.forEach((function(t){e.upload(t)}))},upload:function(t){var e=this;if(!this.beforeUpload)return this.post(t);var s=this.beforeUpload(t);s&&s.then?s.then((function(s){"[object File]"===Object.prototype.toString.call(s)?e.post(s):e.post(t)}),(function(){})):!1!==s&&this.post(t)},post:function(t){var e=this;if(this.format.length){var s=t.name.split(".").pop().toLocaleLowerCase(),n=this.format.some((function(t){return t.toLocaleLowerCase()===s}));if(!n)return this.onFormatError(t,this.fileList),!1}if(this.maxSize&&t.size>1024*this.maxSize)return this.onExceededSize(t,this.fileList),!1;this.handleStart(t),M({headers:this.headers,withCredentials:this.withCredentials,file:t,data:this.data,filename:this.name,action:this.action,onProgress:function(s){e.handleProgress(s,t)},onSuccess:function(s){e.handleSuccess(s,t)},onError:function(s,n){e.handleError(s,n,t)}})},handleStart:function(t){t.uid=Date.now()+this.tempIndex++;var e={status:"uploading",name:t.name,size:t.size,percentage:0,uid:t.uid,showProgress:!0};this.fileList.push(e)},getFile:function(t){var e,s=this.fileList;return s.every((function(s){return e=t.uid===s.uid?s:null,!e})),e},handleProgress:function(t,e){var s=this.getFile(e);this.onProgress(t,s,this.fileList),s.percentage=t.percent||0},handleSuccess:function(t,e){var s=this.getFile(e);s&&(s.status="finished",s.response=t,this.onSuccess(t,s,this.fileList),this.dispatch("FormItem","on-form-change",s),setTimeout((function(){s.showProgress=!1}),1e3))},handleError:function(t,e,s){var n=this.getFile(s),a=this.fileList;n.status="fail",a.splice(a.indexOf(n),1),this.onError(t,e,s)},handleRemove:function(t){var e=this.fileList;e.splice(e.indexOf(t),1),this.onRemove(t,e)},handlePreview:function(t){"finished"===t.status&&this.onPreview(t)},clearFiles:function(){this.fileList=[]}},watch:{defaultFileList:{immediate:!0,handler:function(t){var e=this;this.fileList=t.map((function(t){return t.status="finished",t.percentage=100,t.uid=Date.now()+e.tempIndex++,t}))}}}},V=N,W=Object(v["a"])(V,o,c,!1,null,null,null),A=(W.exports,s("8876")),H={name:"person_center",components:{myTitle:i["a"]},data:function(){return{userInfo:{id:null,username:null,nickname:null,mobile:null,email:null},passwordObj:{id:null,oldPassword:null,newPassword:null,rePassword:null},formValidate:{name:"",mail:"",city:"",gender:"",interest:[],date:"",time:"",desc:""},ruleValidate:{name:[{required:!0,message:"The name cannot be empty",trigger:"blur"}],mail:[{required:!0,message:"Mailbox cannot be empty",trigger:"blur"},{type:"email",message:"Incorrect email format",trigger:"blur"}],city:[{required:!0,message:"Please select the city",trigger:"change"}],gender:[{required:!0,message:"Please select gender",trigger:"change"}],interest:[{required:!0,type:"array",min:1,message:"Choose at least one hobby",trigger:"change"},{type:"array",max:2,message:"Choose two hobbies at best",trigger:"change"}],date:[{required:!0,type:"date",message:"Please select the date",trigger:"change"}],time:[{required:!0,type:"string",message:"Please select time",trigger:"change"}],desc:[{required:!0,message:"Please enter a personal introduction",trigger:"blur"},{type:"string",min:20,message:"Introduce no less than 20 words",trigger:"blur"}]}}},created:function(){this.getInfo()},methods:Object(r["a"])({},Object(A["b"])({getUserInfo:"personCenter/getUserInfo",updateUser:"personCenter/updateUser",updatePassword:"personCenter/updatePassword"}),{handleSubmit:function(){},handleCancel:function(){},btnOperate:function(t){2==t&&this.updateUserPwd(),1==t&&this.updateUserInfo()},updateUserInfo:function(){var t=this;this.updateUser(this.userInfo).then((function(e){console.log(e),t.$Message.success("操作成功！")})).catch((function(t){console.log(t)}))},updateUserPwd:function(){var t=this;this.updatePassword(this.passwordObj).then((function(e){console.log(e),0==e.data.resp_code?t.$Message.success("操作成功"):t.$Message.error(e.data.resp_msg)})).catch((function(e){console.log(e),t.$Message.error(e)}))},getInfo:function(){var t=this;this.getUserInfo().then((function(e){console.log(e.data.datas),t.userInfo.id=e.data.datas.id,t.passwordObj.id=e.data.datas.id,t.userInfo.username=e.data.datas.username,t.userInfo.nickname=e.data.datas.nickname,t.userInfo.mobile=e.data.datas.mobile,t.userInfo.email=e.data.datas.email})).catch((function(e){console.log(e),t.$Message.error(e.data.resp_msg)}))}})},J=H,K=(s("f57e"),Object(v["a"])(J,n,a,!1,null,"7733e62c",null));e["default"]=K.exports},"5c96b":function(t,e,s){"use strict";var n=s("1f8b"),a=s.n(n);a.a},7982:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"common_title"},[t._v(" "+t._s(t.txt)+" ")])},a=[],r={name:"common_title",props:["txt"],data:function(){return{}},mounted:function(){},methods:{}},i=r,o=(s("5c96b"),s("e90a")),c=Object(o["a"])(i,n,a,!1,null,"a36db344",null);e["a"]=c.exports},"88c6":function(t,e,s){},f57e:function(t,e,s){"use strict";var n=s("88c6"),a=s.n(n);a.a}}]);
//# sourceMappingURL=chunk-ad2b7cc6.45f81e91.js.map