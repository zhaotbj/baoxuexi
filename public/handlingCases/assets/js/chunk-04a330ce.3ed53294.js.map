{"version":3,"sources":["webpack:///./src/views/login/login.vue?204d","webpack:///./src/views/login/login-form.vue?2e01","webpack:///./src/views/login/login.vue?6985","webpack:///./src/views/login/login-form.vue?0c27","webpack:///src/views/login/login-form.vue","webpack:///./src/views/login/login-form.vue?4c97","webpack:///./src/views/login/login-form.vue","webpack:///src/views/login/login.vue","webpack:///./src/views/login/login.vue?c3c2","webpack:///./src/views/login/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","handleSubmit","_v","staticRenderFns","ref","form","rules","nativeOn","$event","type","indexOf","_k","keyCode","key","model","value","callback","$$v","$set","expression","slot","codeImgSrc","resGetCode","name","props","userNameRules","Array","default","passwordRules","data","userName","password","code","codeIdentify","created","tmp","getTime","computed","methods","console","log","$refs","loginForm","validate","valid","deviceId","component","components","LoginForm","mounted","getUserInfo","getUserMenuList","manageApi"],"mappings":"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","file":"assets/js/chunk-04a330ce.3ed53294.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./login-form.vue?vue&type=style&index=0&id=1bd0536a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./login-form.vue?vue&type=style&index=0&id=1bd0536a&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login-con\"},[_c('Card',{attrs:{\"icon\":\"log-in\",\"title\":\"欢迎登录\",\"bordered\":false}},[_c('div',{staticClass:\"form-con\"},[_c('login-form',{on:{\"on-success-valid\":_vm.handleSubmit}}),_c('p',{staticClass:\"login-tip\"},[_vm._v(\"输入任意用户名和密码即可\")])],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Form',{ref:\"loginForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSubmit($event)}}},[_c('FormItem',{attrs:{\"prop\":\"userName\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.form.userName),callback:function ($$v) {_vm.$set(_vm.form, \"userName\", $$v)},expression:\"form.userName\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_c('Icon',{attrs:{\"size\":16,\"type\":\"ios-person\"}})],1)])],1),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_c('Icon',{attrs:{\"size\":14,\"type\":\"md-lock\"}})],1)])],1),_c('FormItem',{attrs:{\"prop\":\"code\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入验证码\"},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}},[_c('span',{attrs:{\"slot\":\"append\"},slot:\"append\"},[_c('img',{staticClass:\"_img\",attrs:{\"src\":_vm.codeImgSrc,\"alt\":\"\"},on:{\"click\":_vm.resGetCode}})])])],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"long\":\"\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"登录\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Form ref=\"loginForm\" :model=\"form\" :rules=\"rules\" @keydown.enter.native=\"handleSubmit\">\r\n    <FormItem prop=\"userName\">\r\n      <Input v-model=\"form.userName\" placeholder=\"请输入用户名\">\r\n        <span slot=\"prepend\">\r\n          <Icon :size=\"16\" type=\"ios-person\"></Icon>\r\n        </span>\r\n      </Input>\r\n    </FormItem>\r\n    <FormItem prop=\"password\">\r\n      <Input type=\"password\" v-model=\"form.password\" placeholder=\"请输入密码\">\r\n        <span slot=\"prepend\">\r\n          <Icon :size=\"14\" type=\"md-lock\"></Icon>\r\n        </span>\r\n      </Input>\r\n    </FormItem>\r\n    <FormItem prop=\"code\">\r\n      <Input type=\"text\" v-model=\"form.code\" placeholder=\"请输入验证码\">\r\n        <span slot=\"append\">\r\n          <img class=\"_img\" :src=\"codeImgSrc\" alt=\"\" @click=\"resGetCode\">\r\n        </span>\r\n      </Input>\r\n    </FormItem>\r\n    <FormItem>\r\n      <Button @click=\"handleSubmit\" type=\"primary\" long>登录</Button>\r\n    </FormItem>\r\n  </Form>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'LoginForm',\r\n  props: {\r\n    userNameRules: {\r\n      type: Array,\r\n      default: () => {\r\n        return [\r\n          { required: true, message: '账号不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    },\r\n    passwordRules: {\r\n      type: Array,\r\n      default: () => {\r\n        return [\r\n          { required: true, message: '密码不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      form: {\r\n        userName: '18516501480',\r\n        password: '',\r\n        code: '',\r\n        codeIdentify: null\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    let tmp = new Date()\r\n    tmp = tmp.getTime()\r\n    this.codeIdentify = tmp\r\n  },\r\n  computed: {\r\n    rules () {\r\n      return {\r\n        userName: this.userNameRules,\r\n        password: this.passwordRules\r\n      }\r\n    },\r\n    codeImgSrc () {\r\n      return 'http://192.168.1.202:9900/api-uaa/validata/code/' + this.codeIdentify\r\n    },\r\n  },\r\n  methods: {\r\n    resGetCode () {\r\n      console.log('点击更换验证码！')\r\n    },\r\n    handleSubmit () {\r\n      this.$refs.loginForm.validate((valid) => {\r\n        if (valid) {\r\n          this.$emit('on-success-valid', {\r\n            userName: this.form.userName,\r\n            password: this.form.password,\r\n            code: this.form.code,\r\n            deviceId: this.codeIdentify\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n._img {\r\n  width: 70px;\r\n  height: 20px;\r\n  float: right;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./login-form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./login-form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login-form.vue?vue&type=template&id=1bd0536a&scoped=true&\"\nimport script from \"./login-form.vue?vue&type=script&lang=js&\"\nexport * from \"./login-form.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login-form.vue?vue&type=style&index=0&id=1bd0536a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bd0536a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"login\">\r\n    <div class=\"login-con\">\r\n      <Card icon=\"log-in\" title=\"欢迎登录\" :bordered=\"false\">\r\n        <div class=\"form-con\">\r\n          <login-form @on-success-valid=\"handleSubmit\"></login-form>\r\n          <p class=\"login-tip\">输入任意用户名和密码即可</p>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport LoginForm from './login-form'\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  components: {\r\n    LoginForm\r\n  },\r\n  mounted () {},\r\n  methods: {\r\n    ...mapActions({\r\n       userLogin:\"userLogin\",\r\n       getUserMenu:\"getUserMenu\"\r\n    }),\r\n    async handleSubmit ({ userName, password, code,  deviceId}) {\r\n      let params = {\r\n        username: userName,\r\n        password: password,\r\n        validCode: code,\r\n        deviceId: deviceId\r\n      }\r\n      console.log(params)\r\n       const res = await this.userLogin(params)\r\n\r\n      //  console.log(res.code, res.errMsg.data.resp_msg)\r\n       if(res.code == 0){\r\n         if(res.data.resp_code==0){\r\n          const result = await this.getUserMenu();\r\n         }\r\n       } else {\r\n        this.$Message.error(res.errMsg.data.resp_msg)\r\n       }\r\n       \r\n      \r\n    },\r\n    // 根据token获取用户基本信息\r\n    getUserInfo () {\r\n      // this.manageApi.getUserInfo()\r\n      //   .then(res => {\r\n      //     console.log(res)\r\n      //     if (res.resp_code == 0) {\r\n      //       this.$store.commit('saveUserInfo', res.datas)\r\n      //       window.sessionStorage.setItem('userInfo', JSON.stringify(res.datas))\r\n      //       this.$router.push('home')\r\n      //     }\r\n      //   })\r\n      //   .catch(err => {\r\n      //     this.$Message.error({\r\n      //       content: '错误信息:' + err.resp_msg,\r\n      //       duration: 5\r\n      //     })\r\n      //   })\r\n    },\r\n    // 获取用户的菜单列表\r\n    getUserMenuList () {\r\n      this.manageApi.getUserMenuList()\r\n        .then(res => {\r\n          console.log('菜单',res)\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          this.$Message.error(err.message)\r\n        })\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n  @import './login.less';\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=ecef4cc6&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}